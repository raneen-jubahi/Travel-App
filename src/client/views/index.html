<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="http://localhost:8081/styles.css">
    <title>Travel Planner</title>
</head>
<body>
    <div class="container">
        <header class="text-center my-5">
            <h1 class="display-4">Where do you want to go?</h1>
            <p class="lead">Plan your perfect trip with us!</p>
        </header>
        
        <form id="tripForm" class="mb-4">
            <div class="input-group mb-3">
                <input type="text" id="city" class="form-control" placeholder="Enter your Destination" required />
                <button class="btn btn-primary" type="submit">Submit</button>
            </div>
            <input type="date" id="flightDate" class="form-control mb-3" required />
            <div id="city_error" class="alert alert-danger d-none"></div>
        </form>

        <div id="tripDetails" class="bg-light p-3 rounded mb-3"></div>
        <button id="printTrip" class="btn btn-secondary">Print Trip</button>
    </div>

    <script>
      document.getElementById('tripForm').addEventListener('submit', async function(event) {
          event.preventDefault();
          const city = document.getElementById('city').value;
          const date = document.getElementById('flightDate').value;

          const weatherData = await getWeatherData(city);
          displayTripDetails(city, date, weatherData);
      });

      async function getWeatherData(city) {
          // استدعاء API لاسترداد بيانات الطقس (نموذجية)
          return {
              temp: 25,
              maxTemp: 30,
              minTemp: 20,
              weatherDescription: "Sunny",
              cityPic: "https://via.placeholder.com/150"
          };
      }

      function displayTripDetails(city, date, weatherData) {
          document.getElementById('tripDetails').innerHTML = `
              <h3>Your Trip Summary</h3>
              <p>Destination: ${city}</p>
              <p>Date: ${date}</p>
              <p>Temperature: ${weatherData.temp} °C</p>
              <p>Weather: ${weatherData.weatherDescription}</p>
              <img src="${weatherData.cityPic}" alt="City Image" class="img-fluid" />
          `;
      }
    </script>
</body>
</html>
